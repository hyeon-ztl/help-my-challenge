USE `SSAFIT`;

-- 동기부여 서비스 스키마

-- 목표 종류 테이블
DROP TABLE IF EXISTS `goal_type`;
CREATE TABLE `goal_type` (
	`goal_code` INT PRIMARY KEY,
    `goal_name` VARCHAR(20) NOT NULL UNIQUE
);

INSERT INTO `goal_type` (`goal_code`, `goal_name`)
VALUES (100, '체중'),
		(200, '체지방'),
        (300, '골격근'),
        (400, 'BMI'),
        (500, '기타');

-- 목표 테이블
DROP TABLE IF EXISTS `goal`;
CREATE TABLE `goal` (
    `goal_id` INT PRIMARY KEY AUTO_INCREMENT,          -- 목표 고유 ID
    `email` VARCHAR(50) NOT NULL,                      -- 목표를 설정한 사용자, 카카오 API에 맞게 수정
    `name` VARCHAR(50) NOT NULL,
    `start_date` DATE NOT NULL,                        -- 시작 날짜
    `end_date` DATE NOT NULL,                          -- 종료 날짜
    `day` int NOT NULL,								   -- 일차수
    `goal_code` INT NOT NULL,                  		   -- 목표 종류
    `goal_description` TEXT NOT NULL,                  -- 목표 내용
    `text` TEXT NOT NULL,							   -- 문구
    `pledge` TEXT NOT NULL,                            -- 공약

    -- 외래 키 설정
    FOREIGN KEY (`goal_code`) REFERENCES `goal_type`(`goal_code`) ON DELETE CASCADE
);

-- 메시지 테이블
DROP TABLE IF EXISTS `message`;
CREATE TABLE `message` (
    `message_id` INT PRIMARY KEY AUTO_INCREMENT,       -- 메시지 고유 ID
    `receiver` VARCHAR(50) NOT NULL,                   -- 받는 사람, 카카오 API에 맞게 수정
    `sender` VARCHAR(50) NOT NULL,  	               -- 보낸 사람, 카카오 API에 맞게 수정 
    `sender_nickname` VARCHAR(20) NOT NULL,			   -- 보낸 사람 닉네임
    `goal_id` INT NOT NULL,                            -- 목표 ID (goal 테이블의 외래키)
    `content` TEXT NOT NULL,                           -- 메시지 내용
    `day` INT NOT NULL,                     		   -- 일차
    `stickerId` INT NOT NULL,						   -- 스티커

    -- 외래 키 설정
    FOREIGN KEY (`goal_id`) REFERENCES `goal`(`goal_id`) ON DELETE CASCADE
);

-- 랜덤 메시지 테이블
DROP TABLE IF EXISTS `random_message`;
CREATE TABLE `random_message` (
	`message_id` INT PRIMARY KEY AUTO_INCREMENT,
    `sender_nickname` varchar(3) DEFAULT '내챌도',
    `content` TEXT NOT NULL,
    `stickerId` INT DEFAULT 10
);

INSERT INTO `random_message` (`content`) VALUES
('오늘의 작은 노력은 내일의 큰 변화를 만듭니다.'),
('운동은 당신이 스스로를 사랑하는 최고의 방법입니다.'),
('꾸준함이 성공의 열쇠입니다. 오늘도 움직이세요!'),
('땀은 당신의 의지를 증명합니다.'),
('시작은 어렵지만, 끝은 보람찹니다.'),
('포기하지 마세요, 당신은 할 수 있습니다.'),
('매일 조금씩 더 강해지세요.'),
('운동은 건강한 삶의 투자입니다.'),
('한 번의 실패는 영원한 실패가 아닙니다. 다시 시작하세요!'),
('작은 변화가 큰 결과를 만듭니다.'),
('힘들수록 당신은 더 강해지고 있습니다.'),
('오늘 걷지 않으면 내일 뛰지 못합니다.'),
('운동은 몸과 마음을 모두 건강하게 만듭니다.'),
('지금의 고통은 내일의 보람입니다.'),
('당신의 한계를 넘어서세요. 거기에 기회가 있습니다.'),
('오늘의 땀이 내일의 성과를 만듭니다.'),
('작은 발걸음이 큰 여정을 시작합니다.'),
('운동은 하루의 스트레스를 씻어줍니다.'),
('자신을 위해 더 나은 선택을 하세요.'),
('포기하지 않는 자가 승리합니다.'),
('운동은 나 자신과의 약속입니다.'),
('힘들 때일수록 더 강해질 기회입니다.'),
('건강한 몸이 건강한 마음을 만듭니다.'),
('도전은 항상 당신을 성장시킵니다.'),
('운동은 당신의 삶을 바꿀 힘을 가지고 있습니다.'),
('오늘도 나를 위해 달려보세요.'),
('스스로에게 자랑스러운 하루를 선물하세요.'),
('한 걸음씩 앞으로 나아가세요.'),
('운동은 삶의 에너지를 충전하는 시간입니다.'),
('지금의 노력은 미래의 행복을 위한 것입니다.'),
('작은 성취가 큰 자신감을 만듭니다.'),
('오늘 하루도 최선을 다해보세요.'),
('운동은 당신의 삶을 더 나은 방향으로 이끌어줍니다.'),
('하루하루 쌓인 노력이 곧 당신의 자산이 됩니다.'),
('건강한 몸은 성공의 시작입니다.'),
('운동은 실패 없는 투자입니다.'),
('매일의 노력이 당신의 미래를 만듭니다.'),
('목표를 향한 여정을 즐기세요.'),
('더 강해지고 싶다면, 지금 움직이세요.'),
('운동은 당신이 할 수 있다는 것을 보여줍니다.'),
('작은 땀방울이 큰 꿈을 이룹니다.'),
('변화를 원한다면, 지금 시작하세요.'),
('운동은 새로운 당신을 만나는 시간입니다.'),
('당신은 할 수 있습니다! 스스로를 믿으세요.'),
('몸과 마음 모두 운동으로 새로워질 수 있습니다.'),
('더 나은 내일을 위해 오늘 최선을 다하세요.'),
('운동은 당신을 더 나은 사람으로 만듭니다.'),
('오늘의 도전이 내일의 성공을 만듭니다.'),
('힘든 만큼 당신은 성장하고 있습니다.'),
('지금의 고통은 지나갈 것입니다.'),
('운동은 당신의 자신감을 높여줍니다.'),
('매일 조금씩 더 나아지는 자신을 만나보세요.'),
('작은 변화가 당신을 더 강하게 만듭니다.'),
('운동은 자신과의 싸움에서 이기는 방법입니다.'),
('오늘의 땀이 당신을 빛나게 합니다.'),
('건강은 운동으로 만들어집니다.'),
('매일의 운동이 더 나은 미래를 만듭니다.'),
('운동은 자신을 위해 투자하는 시간입니다.'),
('더 나은 자신을 위해 지금 움직이세요.'),
('시작은 작은 한 걸음입니다.'),
('운동은 스스로에게 주는 최고의 선물입니다.'),
('힘들수록 더 큰 결과가 기다리고 있습니다.'),
('운동은 삶의 활력을 불어넣습니다.'),
('오늘도 최고가 되기 위해 노력하세요.'),
('운동은 새로운 가능성을 열어줍니다.'),
('작은 땀방울이 큰 변화를 만듭니다.'),
('운동은 당신의 하루를 빛나게 만듭니다.'),
('목표를 향한 꾸준함이 중요합니다.'),
('운동은 건강한 삶의 시작입니다.'),
('당신은 할 수 있습니다. 오늘도 움직이세요.'),
('운동은 당신을 더 나은 사람으로 만듭니다.'),
('건강한 몸은 삶의 기쁨을 줍니다.'),
('도전은 당신을 성장하게 만듭니다.'),
('더 나은 자신을 위해 포기하지 마세요.'),
('운동은 당신의 에너지를 충전합니다.'),
('작은 한 걸음이 큰 결과를 만듭니다.'),
('운동은 몸과 마음의 재충전입니다.'),
('건강한 삶은 오늘의 운동에서 시작됩니다.'),
('더 강한 자신을 위해 오늘도 노력하세요.'),
('운동은 당신의 자신감을 키워줍니다.'),
('매일의 꾸준함이 목표를 이룹니다.'),
('운동은 당신의 하루를 바꿉니다.'),
('지금의 고통이 내일의 성취로 이어집니다.'),
('건강한 몸이 성공의 비결입니다.'),
('운동은 당신의 인생을 변화시킬 힘을 가지고 있습니다.'),
('운동은 스스로를 사랑하는 방법입니다.'),
('더 나은 자신을 위해 매일 도전하세요.'),
('운동은 당신의 삶을 새롭게 합니다.'),
('운동은 당신을 빛나게 만듭니다.'),
('더 건강한 내일을 위해 오늘 시작하세요.');

commit;

SELECT * FROM `random_message`;